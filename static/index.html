<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>AI Study Tutor</title>
	<link rel="stylesheet" href="/static/styles.css?v=2">
</head>
<body>
	<div class="app">
		<aside class="sidebar">
			<h2>Sessions</h2>
			<ul id="sessions"></ul>
		</aside>
		<main class="chat">
			<header class="chat-header">
				<h1>AI Study Tutor <span id="rec-indicator" class="rec-indicator" style="display:none">● Recording</span>
					<button id="settings-btn" class="settings-btn" title="Settings">⚙️</button>
				</h1>
			</header>
			<div id="settings-modal" class="modal" style="display:none">
				<div class="modal-content">
					<h3>Settings</h3>
					<label for="voice-select">Voice</label>
					<select id="voice-select">
						<option value="Gail-PlayAI">Gail-PlayAI</option>
						<option value="Fritz-PlayAI">Fritz-PlayAI</option>
						<option value="Arista-PlayAI">Arista-PlayAI</option>
						<option value="Atlas-PlayAI">Atlas-PlayAI</option>
						<option value="Quinn-PlayAI">Quinn-PlayAI</option>
						<option value="Thunder-PlayAI">Thunder-PlayAI</option>
					</select>
					<label style="display:block;margin-top:10px"><input type="checkbox" id="reasoning-toggle"> Detailed reasoning (step-by-step)</label>
					<div class="modal-actions">
						<button id="settings-save">Save</button>
						<button id="settings-cancel">Cancel</button>
					</div>
				</div>
			</div>
			<div id="messages" class="messages"></div>
			<footer class="composer">
				<input id="text-input" placeholder="Ask a question..." />
				<button id="send-btn">Send</button>
				<button id="voice-btn" title="Record voice">🎤</button>
				<button id="upload-btn" title="Upload file">📎</button>
				<span id="staged-file" class="staged-file" style="display:none"></span>
				<input type="file" id="file-input" accept=".pdf,.docx,.txt,.png,.jpg,.jpeg,.webm,.wav,.mp3,.m4a,.ogg" style="display:none" />
			</footer>
		</main>
	</div>

	<script>
		window.MathJax = {
			tex: {
				inlineMath: [['$', '$'], ['\\(', '\\)']],
				displayMath: [['$$','$$'], ['\\[','\\]']],
				processEscapes: true
			},
			svg: { fontCache: 'global' }
		};
	</script>
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" integrity="sha384-5Vt2KJkC0mP3gq6E2k4Y3o6iQmPpKcJg1CwEJrZ0VYcJpJr8n0x6KQ9f0tHk5R9b" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js" integrity="sha384-Ux3m8b1F1Qk1qJg8uVn6rX5i8fJqQ9Q0x1S6Qx2fWc7V9n2H8rXvWmJ0vC0pL3h2" crossorigin="anonymous"></script>
	<script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
	<script src="/static/main.js?v=3"></script>
</body>
</html>


